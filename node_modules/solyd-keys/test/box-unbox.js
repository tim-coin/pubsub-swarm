var tape = require('tape')
var solkeys = require('../')

tape('box, unbox', function (t) {

  var bob = solkeys.generate()
  var alice = solkeys.generate()

  //console.log('boxing', alice.private.length , alice.private)
  var boxed = solkeys.box({okay: true}, [bob.public, alice.public])
  //console.log("BOXED: ", boxed)
  var msg = solkeys.unbox(boxed, alice.private)
  //console.log('Open: ', msg )

  t.deepEqual(msg, {okay: true})
  t.end()
})

tape('return undefined for invalid content', function (t) {

  var alice = solkeys.generate()
  var bob = solkeys.generate()

  var msg = solkeys.unbox('this is invalid content', alice.private)
  t.equal(msg, undefined)
  t.end()
})
